addpath('../jidt/demos/octave')  
javaaddpath('../jidt/infodynamics.jar');

% Read Data
datafile = '../data/muestras/samples2.txt';
data = load(datafile);

% Estimator
implementingClass = 'infodynamics.measures.continuous.kraskov.MutualInfoCalculatorMultiVariateKraskov1';

[data_len, n] = size(data);

TC_list = ones()
for i=2:n
    % jointVariables Columns
    jointVariable1Columns = i; % array indices start from 1 in octave/matlab
    jointVariable2Columns = 1:i-1;

    % jointVariables
    jointVariable1 = data(:, jointVariable1Columns);
    jointVariable2 = data(:, jointVariable2Columns);

    % MI Estimator
    miCalc = javaObject(implementingClass);

    miCalc.initialise(length(jointVariable1Columns), length(jointVariable2Columns));
    miCalc.setObservations(octaveToJavaDoubleMatrix(jointVariable1), octaveToJavaDoubleMatrix(jointVariable2));
    miJointValue = miCalc.computeAverageLocalOfObservations();
    
end

